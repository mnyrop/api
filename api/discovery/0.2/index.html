<!DOCTYPE html>
<html lang='en'><head>
  <meta charset="utf-8">
  <title>
     IIIF Change Discovery API 0.2 —  IIIF | International Image Interoperability Framework
  </title>
  <meta name="description" content="">
  <link rel="shortcut icon" href="">

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/iiif-api/assets/css/style.css">
  <link rel="canonical" href="/iiif-api/api/discovery/0.2/" />
  <link rel="shortcut icon" type="image/jpg" href="/iiif-api/assets/favicon.ico"/>
</head>
<body><script src="/iiif-api/assets/js/deleteButton.js"></script>

<div class="iiif-notification message">
  <div class="message-header">
    <div class="container">
      <button class="delete"></button>
      <p class="title">This website design is in pre-beta.</p>
      <p class="subtitle">Lorem ipsum dolor sit amet, consectetur adipiscing elit.
      
        <a href="/iiif-api/">This is a test link</a>
      
      </p>
    </div>
  </div>
</div>






<section class="hero is-primary" style="">
  
  <div class="hero-head">
    <nav id="navbar" class="navbar is-transparent is-spaced">
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://marii.info/iiif-website">
        <img src="/iiif-api/assets/images/logos/logo-sm.png" alt="IIIF logo" height="28">
        <span class="brand-title">International Image Interoperability Framework</span>
      </a>
      <div class="navbar-burger" data-target="navbar" onclick="document.querySelector('.navbar-menu').classList.toggle('is-active');">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>

    <div class="navbar-menu">
      <div class="navbar-end">
            <a class="navbar-item" href="https://marii.info/iiif-website">Home</a>
          
            <a class="navbar-item" href="https://marii.info/iiif-website/demos">Demos</a>
          
            <a class="navbar-item" href="/iiif-api">News & Events</a>
          
            <div class="navbar-item has-dropdown is-hoverable">
              <a  class="navbar-link"  href="https://marii.info/iiif-website/get-involved">
                Get Involved
              </a>
              <div class="navbar-dropdown is-boxed is-active">
                
                  <a class="navbar-item" href="https://marii.info/iiif-website/community/groups">Community Groups</a>
                
                  <a class="navbar-item" href="https://marii.info/iiif-website/community/consortium">Consortium</a>
                
                  <a class="navbar-item" href="https://marii.info/iiif-website/newsletter">Join Newsletter</a>
                
                  <a class="navbar-item" href="https://marii.info/iiif-website/community/consortium/staff/">Contact Us</a>
                
              </div>
            </div>
          
            <div class="navbar-item has-dropdown is-hoverable">
              <a  class="navbar-link"  href="https://marii.info/iiif-website/get-started">
                Get Started
              </a>
              <div class="navbar-dropdown is-boxed is-active">
                
                  <a class="navbar-item" href="https://marii.info/iiif-website/get-started/how-iiif-works">How IIIF Works</a>
                
                  <a class="navbar-item" href="https://marii.info/iiif-api/api/">APIs & Documentation</a>
                
                  <a class="navbar-item" href="https://marii.info/iiif-website/get-started/cookbook">Cookbooks</a>
                
                  <a class="navbar-item" href="https://marii.info/iiif-website/get-started/training">Training</a>
                
              </div>
            </div>
          </div>
    </div>
  </div>
</nav>

  </div>
  

  <div class="hero-body container">

    
    <nav class="breadcrumb is-centered" aria-label="breadcrumbs">
      <ul>
        
          <li><a href="/iiif-api/get-started">Get Started</a></li>
        
          <li><a href="/iiif-api/api">APIs & Documentation</a></li>
        
      </ul>
    </nav>
    

    <div class="container has-text-centered">
      
      <h1 class="title is-size-2 is-size-3-mobile is-size-desktop is-size-1-widescreen">IIIF Change Discovery API 0.2</h1>
      
      <p class="subtitle is-size-5"></p>

      
    </div>
  </div>
</section>
<section id="main">
      
      

<div class="container-block is-max-widescreen">
  <div class="columns container">
    <aside class="column is-one-quarter" markdown="1">
      <div class="box toc-sidebar sticky">
        <ul class="menu" id="toc-menu"><li><a href="#introduction">1. Introduction</a><ul class="menu-list toc-submenu-2"><li><a href="#objectives-and-scope">1.1. Objectives and Scope</a></li><li><a href="#terminology">1.2. Terminology</a></li></ul></li><li><a href="#overview-of-iiif-resource-discovery">2. Overview of IIIF Resource Discovery</a><ul class="menu-list toc-submenu-2"><li><a href="#listing-resources-and-their-changes">2.1. Listing Resources and their Changes</a></li><li><a href="#pages-of-changes">2.2. Pages of Changes</a></li><li><a href="#collections-of-pages">2.3. Collections of Pages</a></li></ul></li><li><a href="#activity-streams-details">3. Activity Streams Details</a><ul class="menu-list toc-submenu-2"><li><a href="#orderedcollection">3.1. Ordered Collection</a></li><li><a href="#ordered-collection-page">3.2. Ordered Collection Page</a></li><li><a href="#activities">3.3. Activities</a></li><li><a href="#activity-streams-processing-algorithm">3.4. Activity Streams Processing Algorithm</a></li></ul></li><li><a href="#appendices">Appendices</a><ul class="menu-list toc-submenu-2"><li><a href="#acknowledgements">A. Acknowledgements</a></li><li><a href="#change-log">B. Change Log</a></li></ul></li></ul>

      </div>
    </aside>
    <div class="column content is-three-quarters api-content" markdown="1">
      <h2 class="no_toc" id="status-of-this-document">
        
        
          Status of this Document <a href="#status-of-this-document">#</a>
        
        
      </h2>
    
<p><strong>This Version:</strong> 0.2.0</p>

<p><strong>Latest Stable Version:</strong> None</p>

<p><strong>Previous Version:</strong> <a href="/iiif-api/api/discovery/0.1/" title="IIIF Change Discovery API">0.1</a></p>

<p><strong>Editors:</strong></p>

<ul>
  <li>
    <p><strong><a href="https://orcid.org/0000-0002-1266-298X">Michael Appleby</a></strong>, Yale University</p>
  </li>
  <li>
    <p><strong><a href="https://orcid.org/0000-0003-1881-243X">Tom Crane</a></strong>, Digirati</p>
  </li>
  <li>
    <p><strong><a href="https://orcid.org/0000-0003-4441-6852">Robert Sanderson</a></strong>, J. Paul Getty Trust</p>
  </li>
  <li>
    <p><strong><a href="https://orcid.org/0000-0002-0367-1243">Jon Stroop</a></strong>, Princeton University Library</p>
  </li>
  <li>
    <p><strong><a href="https://orcid.org/0000-0002-7970-7855">Simeon Warner</a></strong>, Cornell University</p>
  </li>
</ul>

<p><em>Copyright © 2012-2021 Editors and contributors. Published by the IIIF Consortium under the <a href="http://creativecommons.org/licenses/by/4.0/" title="Creative Commons &mdash; Attribution 4.0 International">CC-BY</a> license, see <a href="/iiif-api/api/annex/notes/disclaimer/">disclaimer</a>.</em></p>

<p class="warning"><strong>Status Warning</strong>
This is a work in progress and may change without notice. Implementers should be aware that this document is not stable. Implementers are likely to find the specification changing in incompatible ways. Those interested in implementing this document before it reaches beta or release stages should join the IIIF <a href="mailto:iiif-discuss@googlegroups.com" title="Email Discussion List">mailing list</a> and the <a href="/iiif-api/community/groups/discovery/">Discovery Specification Group</a>, take part in the discussions, and follow the <a href="https://github.com/IIIF/discovery/issues">emerging issues</a> on Github.</p><hr />
      <h2 id="introduction">
        
        
          1. Introduction <a href="#introduction">#</a>
        
        
      </h2>
    

<p>The resources made available via the IIIF (pronounced “Triple-Eye-Eff”) <a href="/iiif-api/api/image/./" title="Image API">Image</a> and <a href="/iiif-api/api/presentation/" title="IIIF Presentation API">Presentation</a> APIs are only useful if they can be found. Users cannot interact directly with a distributed, decentralized ecosystem but instead must rely on services that harvest and process the available content, and then provide a user interface enabling navigation to that content via searching, browsing or other paradigms. Once the user has discovered the content, they can then display it in their viewing application of choice. Machine to machine interfaces are also enabled by this pattern, where software agents could interact via APIs to discover the same content and retrieve it for further analysis or processing.</p>

<p>This specification leverages existing techniques, specifications, and tools in order to promote widespread adoption. It enables the collaborative development of global or thematic search engines and portal applications that allow users to easily find and engage with content available via existing IIIF APIs.</p>
      <h3 id="objectives-and-scope">
        
        
          1.1. Objectives and Scope <a href="#objectives-and-scope">#</a>
        
        
      </h3>
    

<p>The objective of the IIIF Change Discovery API is to provide the information needed to discover and subsequently make use of IIIF resources.  The intended audience is other IIIF aware systems that can leverage the content and APIs. While this work may benefit others outside of the IIIF community directly or indirectly, the objective of the API is to specify an interoperable solution that best and most easily fulfills the discovery needs within the community of participating organizations.</p>

<p>The discovery of IIIF resources requires a consistent and well understood pattern for content providers to publish lists of links to their available content. This allows a baseline implementation of discovery systems that process the list, looking for resources that have been added or changed.</p>

<p>This process can be optimized by allowing the content providers to publish descriptions of when their content has changed, enabling consuming systems to only retrieve the resources that have been modified since they were last retrieved. These changes might include when content is deleted or otherwise becomes unavailable. Finally, for rapid synchronization, a system of notifications pushed from the publisher to a set of subscribers can reduce the amount of effort required to constantly poll all of the systems to see if anything has changed.</p>

<p>Work that is out of scope of this API includes the recommendation or creation of any descriptive metadata formats, and the recommendation or creation of metadata search APIs or protocols. The diverse domains represented within the IIIF community already have successful standards fulfilling these use cases, and the results of previous attempts to reconcile these standards across domains have not seen widespread adoption. Also out of scope is optimization of the transmission of content, for example recommendations about transferring any source media or data between systems.</p>

<p class="warning"><strong>Notification of Changes</strong><br />This draft version of the specification does not include the subscription mechanism for enabling change notifications to be pushed to remote systems.  The current specification only enables the polling pattern where the set of changes must be periodically reprocessed. Notifications are likely to be added in a future version before 1.0.</p>
      <h3 id="terminology">
        
        
          1.2. Terminology <a href="#terminology">#</a>
        
        
      </h3>
    

<p>The specification uses the following terms:</p>

<ul>
  <li><strong>HTTP(S)</strong>: The HTTP or HTTPS URI scheme and internet protocol.</li>
</ul>

<p>The terms <em>array</em>, <em>JSON object</em>, <em>number</em>, and <em>string</em> in this document are to be interpreted as defined by the <a href="https://tools.ietf.org/html/rfc8259" title="JSON RFC">Javascript Object Notation (JSON)</a> specification.</p>

<p>The key words <em class="rfc">must</em>, <em class="rfc">must not</em>, <em class="rfc">required</em>, <em class="rfc">shall</em>, <em class="rfc">shall not</em>, <em class="rfc">should</em>, <em class="rfc">should not</em>, <em class="rfc">recommended</em>, <em class="rfc">may</em>, and <em class="rfc">optional</em> in this document are to be interpreted as described in <a href="https://tools.ietf.org/html/rfc2119" title="RFC Keywords">RFC 2119</a>.</p>
      <h2 id="overview-of-iiif-resource-discovery">
        
        
          2. Overview of IIIF Resource Discovery <a href="#overview-of-iiif-resource-discovery">#</a>
        
        
      </h2>
    

<p>In order to discover IIIF resources, the state of those resources in the systems that publish them needs to be communicated succinctly and easily to a consuming system.  The consumer can then use that information to retrieve and process the resources of interest and provide machine or user interfaces that enable discovery.  This communication takes place via the IIIF Change Discovery API, which uses the W3C <a href="https://www.w3.org/TR/activitystreams-core/">Activity Streams</a> specification to describe and serialize changes to resources, where the semantics of those changes and the interactions between publishers and consumers are based on those identified by the <a href="http://openarchives.org/rs/toc">ResourceSync</a> framework.</p>

<p>Activities are used to describe the state of the publishing system by recording each individual change, in the order that they occur. The changes described are the creation, modification and deletion of IIIF Presentation API resources, primarily Collections and Manifests.  If the consuming application is aware of all of the changes that took place in the publishing system, it would have full knowledge of the set of resources available.  The focus on IIIF Collections and Manifests is because these are the main access points to published content and references to descriptive metadata about that content, however Activities describing changes to other resources could also be published in this way.</p>

<p>The Presentation API does not directly include descriptive metadata fields suitable for indexing beyond a simple full text search. The data intentionally lacks the semantics needed to construct indexes that enable advanced or fielded search. Instead, the Presentation API uses the <code class="language-plaintext highlighter-rouge">seeAlso</code> property to link to external documents that can have richer and domain-specific information about the content being presented. For example, a museum object might have a <code class="language-plaintext highlighter-rouge">seeAlso</code> reference to a CIDOC-CRM or LIDO description, while a bibliographic resource might reference a Dublin Core or MODS description. These external descriptions should be used when possible to provide interfaces giving access to more precise matching algorithms.</p>

<p>This specification describes three levels of conformance that build upon each other in terms of functionality enabled and precision of the information published. Sets of changes are published in pages, which are then collected together in a collection per publisher. To reduce barriers to implementation, care has been take to allow the implementation of all levels using only static files on a web server, rather than requiring dynamic access to a database.</p>
      <h3 id="listing-resources-and-their-changes">
        
        
          2.1. Listing Resources and their Changes <a href="#listing-resources-and-their-changes">#</a>
        
        
      </h3>
    

<p>There are three levels of conformance at which changes can be described. Level 0 is simply a list of the resources available.  Level 1 adds timestamps and ordering from earliest change to most recent, allowing the consumer to stop processing once it encounters a change that it has already processed. Level 2 adds information about the types of activities, enabling the explicit creation and deletion of resources.</p>
      <h4 id="level-0-basic-resource-list">
        
        
          2.1.1. Level 0: Basic Resource List <a href="#level-0-basic-resource-list">#</a>
        
        
      </h4>
    

<p>The core information required to provide a minimally effective set of links to IIIF resources is just the URIs of those resources. However, with the addition of some additional JSON structure wrapped around those URIs, we can be on the path towards a robust set of information that clients can use to optimize their processing.</p>

<p>Starting with the IIIF resource URIs, we add an “Update” Activity wrapper around them.  The order of the resources in the resulting list is unimportant, but each should only appear once. In terms of optimization, this approach provides no additional benefit over any other simpler list format, but is compatible with the following levels which introduce significant benefits.  This is the minimum level for interoperability, while being compatible with the more detailed patterns described below.</p>

<p>If resources are deleted after being referred to in the resource list, the entire list should be republished without the reference to the deleted resource. Clients should also expect to encounter resource URIs that are out of date and no longer resolve to a IIIF Manifest or Collection.</p>

<p>Example Level 0 Activity:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "type": "Update",
  "object": {
    "id": "https://example.org/iiif/1/manifest",
    "type": "Manifest"  	
  }
}
</code></pre></div></div>
      <h4 id="level-1-basic-change-list">
        
        
          2.1.2. Level 1: Basic Change List <a href="#level-1-basic-change-list">#</a>
        
        
      </h4>
    

<p>When dealing with large sets of resources, it can be useful to work with only those resources that have changed since the last time the list was processed. This can be facilitated by the addition of a time stamp that indicates when a resource was last modified or initially created. This is included using the <code class="language-plaintext highlighter-rouge">endTime</code> property, representing the time at which the activity of publishing the resource was finished. Lists with multiple activities are then ordered such that the most recent activities occur last. Consumers will then process the list of Activities in reverse order, from last to first, stopping when they encounter an Activity they have already processed in a previous run.</p>

<p>Example Level 1 Activity:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "type": "Update",
  "object": {
    "id": "https://example.org/iiif/1/manifest",
    "type": "Manifest"
  },
  "endTime": "2017-09-20T00:00:00Z"
}
</code></pre></div></div>
      <h4 id="level-2-complete-change-list">
        
        
          2.1.3. Level 2: Complete Change List <a href="#level-2-complete-change-list">#</a>
        
        
      </h4>
    

<p>At the most detailed level, a log of all of the Activities that have taken place can be recorded, with the likelihood of multiple Activities per IIIF resource.  This allows the additional types of “Create” and “Delete”, enabling a synchronization process to remove resources as well as add or update them.</p>

<p>Example Level 2 Activity:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "type": "Create",
  "object": {
    "id": "https://example.org/iiif/1/manifest",
    "type": "Manifest"
  },
  "endTime": "2017-09-20T00:00:00Z"
}
</code></pre></div></div>
      <h3 id="pages-of-changes">
        
        
          2.2. Pages of Changes <a href="#pages-of-changes">#</a>
        
        
      </h3>
    

<p>Activities are collected together into pages that together make up the entire set of changes that the publishing system has made. Pages reference the previous and next pages in that set, and the overall collection of which they are part. The Activities are listed such that the most recent activities occur last.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "@context": "http://iiif.io/api/discovery/0/context.json",
  "id": "https://example.org/activity/page-1",
  "type": "OrderedCollectionPage",
  "partOf": {
    "id": "https://example.org/activity/all-changes",
    "type": "OrderedCollection"
  },
  "prev": {
    "id": "https://example.org/activity/page-0",
    "type": "OrderedCollectionPage"
  },
  "next": {
    "id": "https://example.org/activity/page-2",
    "type": "OrderedCollectionPage"
  },
  "orderedItems": [
    {
      "type": "Update",
      "object": {
        "id": "https://example.org/iiif/9/manifest",
        "type": "Manifest"
      },
      "endTime": "2018-03-10T10:00:00Z"
    },
    {
      "type": "Update",
      "object": {
        "id": "https://example.org/iiif/2/manifest",
        "type": "Manifest"
      },
      "endTime": "2018-03-11T16:30:00Z"
    }
  ]
}
</code></pre></div></div>
      <h3 id="collections-of-pages">
        
        
          2.3. Collections of Pages <a href="#collections-of-pages">#</a>
        
        
      </h3>
    

<p>As the number of Activities is likely too many to usefully be represented in a single Page, they are collected together into a Collection as the initial entry point. The Collection references the URIs of the first and last pages.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "@context": "http://iiif.io/api/discovery/0/context.json",
  "id": "https://example.org/activity/all-changes",
  "type": "OrderedCollection",
  "totalItems": 21456,
  "first": {
    "id": "https://example.org/activity/page-0",
    "type": "OrderedCollectionPage"
  },
  "last": {
    "id": "https://example.org/activity/page-214",
    "type": "OrderedCollectionPage"
  }
}
</code></pre></div></div>
      <h2 id="activity-streams-details">
        
        
          3. Activity Streams Details <a href="#activity-streams-details">#</a>
        
        
      </h2>
    

<p>The W3C <a href="https://www.w3.org/TR/activitystreams-core/">Activity Streams</a> specification defines a “model for representing potential and completed activities”, and is compatible with the <a href="/iiif-api/api/annex/notes/design_patterns/">design patterns</a> established for IIIF APIs. It is defined in terms of <a href="http://www.w3.org/TR/json-ld/" title="JSON-LD 1.0">JSON-LD</a> and can be seamlessly integrated with the existing IIIF APIs. The model can be used to represent activities carried out by content publishers of creating, updating, and deleting (or otherwise de-publishing) IIIF resources.</p>

<p>This section is a summary of the properties and types used by this specification, and defined by Activity Streams.  This is intended to ease implementation efforts by collecting the relevant information together.</p>

<p>Properties, beyond those described in this specification, that the consuming application does not have code to process <em class="rfc">must</em> be ignored.  Other properties defined by Activity Streams <em class="rfc">may</em> be used, such as <code class="language-plaintext highlighter-rouge">origin</code> or <code class="language-plaintext highlighter-rouge">instrument</code>, but there are no current use cases that would warrant their inclusion in this specification.</p>
      <h3 id="orderedcollection">
        
        
          3.1. Ordered Collection <a href="#orderedcollection">#</a>
        
        
      </h3>
    

<p>The top-most resource for managing the lists of Activities is an Ordered Collection, broken up into Ordered Collection Pages. This is the same pattern that the Web Annotation model uses for Annotation Collections and Annotation Pages. The Collection does not directly contain any of the Activities, instead it refers to the <code class="language-plaintext highlighter-rouge">first</code> and <code class="language-plaintext highlighter-rouge">last</code> pages of the list.</p>

<p>The overall ordering of the Collection is from the oldest Activity as the first entry in the first page, to the most recent as the last entry in the last page. Consuming applications <em class="rfc">should</em> therefore start at the end and walk <strong>backwards</strong> through the list, and stop when they reach a timestamp before the time they last processed the list.</p>

<p>Content providers <em class="rfc">must</em> publish an Ordered Collection at the HTTP(S) URI listed in the <code class="language-plaintext highlighter-rouge">id</code> property of the Collection.</p>
      <h5 id="id">
        
        
          id <a href="#id">#</a>
        
        
      </h5>
    

<p>The identifier of the Ordered Collection.</p>

<p>Ordered Collections <em class="rfc">must</em> have an <code class="language-plaintext highlighter-rouge">id</code> property. The value <em class="rfc">must</em> be a string and it <em class="rfc">must</em> be an HTTP(S) URI. The JSON representation of the Ordered Collection <em class="rfc">must</em> be available at the URI.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ "id": "https://example.org/activity/all-changes" }
</code></pre></div></div>
      <h5 id="type">
        
        
          type <a href="#type">#</a>
        
        
      </h5>
    

<p>The class of the Ordered Collection.</p>

<p>Ordered Collections <em class="rfc">must</em> have a <code class="language-plaintext highlighter-rouge">type</code> property.  The value <em class="rfc">must</em> be <code class="language-plaintext highlighter-rouge">OrderedCollection</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ "type": "OrderedCollection" }
</code></pre></div></div>
      <h5 id="first">
        
        
          first <a href="#first">#</a>
        
        
      </h5>
    

<p>A link to the first Ordered Collection Page for this Collection.</p>

<p>Ordered Collections <em class="rfc">should</em> have a <code class="language-plaintext highlighter-rouge">first</code> property.  The value <em class="rfc">must</em> be a JSON object, with the <code class="language-plaintext highlighter-rouge">id</code> and <code class="language-plaintext highlighter-rouge">type</code> properties.  The value of the <code class="language-plaintext highlighter-rouge">id</code> property <em class="rfc">must</em> be a string, and it <em class="rfc">must</em> be the HTTP(S) URI of the first page of items in the Collection. The value of the <code class="language-plaintext highlighter-rouge">type</code> property <em class="rfc">must</em> be a string, and <em class="rfc">must</em> be <code class="language-plaintext highlighter-rouge">OrderedCollectionPage</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "first": {
    "id": "https://example.org/activity/page-0",
    "type": "OrderedCollectionPage"
  }
}
</code></pre></div></div>
      <h5 id="last">
        
        
          last <a href="#last">#</a>
        
        
      </h5>
    

<p>A link to the last Ordered Collection Page for this Collection.  As the client processing algorithm works backwards from the most recent to least recent, the inclusion of <code class="language-plaintext highlighter-rouge">last</code> is <em class="rfc">required</em>, but <code class="language-plaintext highlighter-rouge">first</code> is only <em class="rfc">recommended</em>.</p>

<p>Ordered Collections <em class="rfc">must</em> have a <code class="language-plaintext highlighter-rouge">last</code> property.  The value <em class="rfc">must</em> be a JSON object, with the <code class="language-plaintext highlighter-rouge">id</code> and <code class="language-plaintext highlighter-rouge">type</code> properties.  The value of the <code class="language-plaintext highlighter-rouge">id</code> property <em class="rfc">must</em> be a string, and it <em class="rfc">must</em> be the HTTP(S) URI of the last page of items in the Collection. The value of the <code class="language-plaintext highlighter-rouge">type</code> property <em class="rfc">must</em> be a string, and <em class="rfc">must</em> be <code class="language-plaintext highlighter-rouge">OrderedCollectionPage</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "last": {
    "id": "https://example.org/activity/page-1234",
    "type": "OrderedCollectionPage"
  }
}
</code></pre></div></div>
      <h5 id="totalitems">
        
        
          totalItems <a href="#totalitems">#</a>
        
        
      </h5>
    

<p>The total number of Activities in the entire Ordered Collection.</p>

<p>OrderedCollections <em class="rfc">may</em> have a <code class="language-plaintext highlighter-rouge">totalItems</code> property.  The value <em class="rfc">must</em> be a non-negative integer.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ "totalItems": 21456 }
</code></pre></div></div>
      <h5 id="context">
        
        
          context <a href="#context">#</a>
        
        
      </h5>
    

<p>This property is used to refer to one or more documents that semantically describe the set of resources that are being acted upon in the Activities within the OrderedCollection. This would allow the OrderedCollection to refer to, for example, a <a href="https://www.w3.org/TR/vocab-dcat/" title="Data Catalog Vocabulary">DCAT</a> description of the dataset. For OrderedCollections that aggregate activities and/or objects from multiple sources, the referenced description should describe the complete aggregation rather than an individual source.</p>

<p>OrderedCollections <em class="rfc">may</em> have a <code class="language-plaintext highlighter-rouge">context</code> property (distinct from the <code class="language-plaintext highlighter-rouge">@context</code> property).  The value <em class="rfc">must</em> be an array of one or more JSON objects, with the <code class="language-plaintext highlighter-rouge">id</code> and <code class="language-plaintext highlighter-rouge">type</code> properties.  The value of the <code class="language-plaintext highlighter-rouge">id</code> property <em class="rfc">must</em> be a string, and it <em class="rfc">must</em> be the HTTP(S) URI of the description of the dataset. The value of the <code class="language-plaintext highlighter-rouge">type</code> property <em class="rfc">must</em> be a string, and <em class="rfc">must</em> be <code class="language-plaintext highlighter-rouge">Dataset</code>. The JSON object <em class="rfc">may</em> have the <code class="language-plaintext highlighter-rouge">mediaType</code> property, the value of which <em class="rfc">must</em> be a string, and it <em class="rfc">must</em> be the MIME media type of the referenced description document.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "context": [
    {
      "id": "https://example.org/dataset/all-dcat.jsonld",
      "type": "Dataset",
      "mediaType": "application/ld+json"
    }
  ]
}
</code></pre></div></div>
      <h5 id="complete-ordered-collection-example">
        
        
          Complete Ordered Collection Example <a href="#complete-ordered-collection-example">#</a>
        
        
      </h5>
    

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "@context": "http://iiif.io/api/discovery/0/context.json",
  "id": "https://example.org/activity/all-changes",
  "type": "OrderedCollection",
  "totalItems": 21456,
  "context": [
    {
      "id": "https://example.org/dataset/all-dcat.jsonld",
      "type": "Dataset",
      "mediaType": "application/ld+json"
    }
  ],
  "first": {
    "id": "https://example.org/activity/page-0",
    "type": "OrderedCollectionPage"
  },
  "last": {
    "id": "https://example.org/activity/page-214",
    "type": "OrderedCollectionPage"
  }
}
</code></pre></div></div>
      <h3 id="ordered-collection-page">
        
        
          3.2. Ordered Collection Page <a href="#ordered-collection-page">#</a>
        
        
      </h3>
    

<p>The list of Activities is ordered both from page to page by following <code class="language-plaintext highlighter-rouge">prev</code> (or <code class="language-plaintext highlighter-rouge">next</code>) relationships, and internally within the page in the <code class="language-plaintext highlighter-rouge">orderedItems</code> property. The number of entries in each page is up to the implementer, and cannot be modified at request time by the client.</p>

<p>Content providers <em class="rfc">must</em> publish at least one Ordered Collection Page at the HTTP(S) URI given in the <code class="language-plaintext highlighter-rouge">id</code> property of the Page.</p>
      <h5 id="id-1">
        
        
          id <a href="#id-1">#</a>
        
        
      </h5>
    

<p>The identifier of the Collection Page.</p>

<p>Ordered Collection Pages <em class="rfc">must</em> have an <code class="language-plaintext highlighter-rouge">id</code> property. The value <em class="rfc">must</em> be a string and it <em class="rfc">must</em> be an HTTP(S) URI. The JSON representation of the Ordered Collection Page <em class="rfc">must</em> be available at the URI.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ "id": "https://example.org/activity/page-0" }
</code></pre></div></div>
      <h5 id="type-1">
        
        
          type <a href="#type-1">#</a>
        
        
      </h5>
    

<p>The class of the Ordered Collection Page.</p>

<p>Ordered Collections <em class="rfc">must</em> have a <code class="language-plaintext highlighter-rouge">type</code> property.  The value <em class="rfc">must</em> be <code class="language-plaintext highlighter-rouge">OrderedCollectionPage</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ "type": "OrderedCollectionPage" }
</code></pre></div></div>
      <h5 id="partof">
        
        
          partOf <a href="#partof">#</a>
        
        
      </h5>
    

<p>The Ordered Collection that this Page is part of.</p>

<p>Ordered Collection Pages <em class="rfc">should</em> have a <code class="language-plaintext highlighter-rouge">partOf</code> property. The value <em class="rfc">must</em> be a JSON object, with the <code class="language-plaintext highlighter-rouge">id</code> and <code class="language-plaintext highlighter-rouge">type</code> properties.  The value of the <code class="language-plaintext highlighter-rouge">id</code> property <em class="rfc">must</em> be the a string, and <em class="rfc">must</em> be the HTTP(S) URI of the Ordered Collection that this page is part of.  The value of the <code class="language-plaintext highlighter-rouge">type</code> property <em class="rfc">must</em> be a string, and <em class="rfc">must</em> be <code class="language-plaintext highlighter-rouge">OrderedCollection</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "partOf": {
    "id": "https://example.org/activity/all-changes",
    "type": "OrderedCollection"
  }
}
</code></pre></div></div>
      <h5 id="startindex">
        
        
          startIndex <a href="#startindex">#</a>
        
        
      </h5>
    

<p>The position of the first item in this page’s <code class="language-plaintext highlighter-rouge">orderedItems</code> list, relative to the overall ordering across all pages within the Collection.  The first entry in the overall list has a <code class="language-plaintext highlighter-rouge">startIndex</code> of 0.  If the first page has 20 entries, the first entry on the second page would therefore be 20.</p>

<p>Ordered Collection Pages <em class="rfc">may</em> have a <code class="language-plaintext highlighter-rouge">startIndex</code> property.  The value <em class="rfc">must</em> be a non-negative integer.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ "startIndex": 20 }
</code></pre></div></div>
      <h5 id="next">
        
        
          next <a href="#next">#</a>
        
        
      </h5>
    

<p>A reference to the next page in the list of pages.</p>

<p>Ordered Collection Pages <em class="rfc">should</em> have a <code class="language-plaintext highlighter-rouge">next</code> property, unless they are the last Page in the Collection. The value <em class="rfc">must</em> be a JSON object, with the <code class="language-plaintext highlighter-rouge">id</code> and <code class="language-plaintext highlighter-rouge">type</code> properties.  The value of the <code class="language-plaintext highlighter-rouge">id</code> property <em class="rfc">must</em> be the a string, and <em class="rfc">must</em> be the HTTP(S) URI of the following Ordered Collection Page.  The value of the <code class="language-plaintext highlighter-rouge">type</code> property <em class="rfc">must</em> be a string, and <em class="rfc">must</em> be <code class="language-plaintext highlighter-rouge">OrderedCollectionPage</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "next": {
    "id": "https://example.org/activity/page-2",
    "type": "OrderedCollectionPage"
  }
}
</code></pre></div></div>
      <h5 id="prev">
        
        
          prev <a href="#prev">#</a>
        
        
      </h5>
    

<p>A reference to the previous page in the list of pages.</p>

<p>Ordered Collection Pages <em class="rfc">must</em> have a <code class="language-plaintext highlighter-rouge">prev</code> property, unless they are the first page in the Collection. The value <em class="rfc">must</em> be a JSON object, with the <code class="language-plaintext highlighter-rouge">id</code> and <code class="language-plaintext highlighter-rouge">type</code> properties.  The value of the <code class="language-plaintext highlighter-rouge">id</code> property <em class="rfc">must</em> be the a string, and <em class="rfc">must</em> be the HTTP(S) URI of the preceding Ordered Collection Page.  The value of the <code class="language-plaintext highlighter-rouge">type</code> property <em class="rfc">must</em> be a string, and <em class="rfc">must</em> be <code class="language-plaintext highlighter-rouge">OrderedCollectionPage</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "prev": {
    "id": "https://example.org/activity/page-1",
    "type": "OrderedCollectionPage"
  }
}
</code></pre></div></div>
      <h5 id="ordereditems">
        
        
          orderedItems <a href="#ordereditems">#</a>
        
        
      </h5>
    

<p>The Activities that are listed as part of this page.</p>

<p>Ordered Collection Pages <em class="rfc">must</em> have a <code class="language-plaintext highlighter-rouge">orderedItems</code> property.  The value <em class="rfc">must</em> be an array, with at least one item.  Each item <em class="rfc">must</em> be a JSON object, conforming to the requirements of an Activity.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "orderedItems": [
     {
     	"type": "Update",
     	"object": {
     		"id": "https://example.org/iiif/1/manifest",
     		"type": "Manifest"
     	},
     	"endTime": "2018-03-10T10:00:00Z"
     }
  ]
}
</code></pre></div></div>
      <h5 id="complete-ordered-collection-page-example">
        
        
          Complete Ordered Collection Page Example <a href="#complete-ordered-collection-page-example">#</a>
        
        
      </h5>
    

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "@context": "http://iiif.io/api/discovery/0/context.json",
  "id": "https://example.org/activity/page-1",
  "type": "OrderedCollectionPage",
  "startIndex": 20,
  "partOf": {
    "id": "https://example.org/activity/all-changes",
    "type": "OrderedCollection"
  },
  "prev": {
    "id": "https://example.org/activity/page-0",
    "type": "OrderedCollectionPage"
  },
  "next": {
    "id": "https://example.org/activity/page-2",
    "type": "OrderedCollectionPage"
  },
  "orderedItems": [
    {
      "type": "Update",
      "object": {
        "id": "https://example.org/iiif/1/manifest",
        "type": "Manifest"
      },
      "endTime": "2018-03-10T10:00:00Z"
    }
  ]
}
</code></pre></div></div>
      <h3 id="activities">
        
        
          3.3. Activities <a href="#activities">#</a>
        
        
      </h3>
    

<p>The Activities are the means of describing the changes that have occured in the content provider’s system.</p>

<p>Content providers <em class="rfc">may</em> publish Activities separately from Ordered Collection Pages, and if so they <em class="rfc">must</em> be at the HTTP(S) URI given in the <code class="language-plaintext highlighter-rouge">id</code> property of the Activity.</p>
      <h5 id="id-2">
        
        
          id <a href="#id-2">#</a>
        
        
      </h5>
    

<p>An identifier for the Activity.</p>

<p>Activities <em class="rfc">may</em> have an <code class="language-plaintext highlighter-rouge">id</code> property. The value <em class="rfc">must</em> be a string and it <em class="rfc">must</em> be an HTTP(S) URI. The JSON representation of the Activity <em class="rfc">may</em> be available at the URI.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ "id": "https://example.org/activity/1" }
</code></pre></div></div>
      <h5 id="type-2">
        
        
          type <a href="#type-2">#</a>
        
        
      </h5>
    

<p>The type of Activity.</p>

<p>This specification uses the types described in the table below.</p>

<table class="api-table" id="table-type-dfn">
  <thead>
    <tr>
      <th>Type</th>
      <th>Definition</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Create</code></td>
      <td>The initial creation of the resource.  Each resource <em class="rfc">must</em> have at most one <code class="language-plaintext highlighter-rouge">Create</code> Activity in which it is the <code class="language-plaintext highlighter-rouge">object</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Update</code></td>
      <td>Any change to the resource.  In a system that does not distinguish creation from modification, then all changes <em class="rfc">may</em> have the <code class="language-plaintext highlighter-rouge">Update</code> type.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Delete</code></td>
      <td>The deletion of the resource, or its de-publication from the web. Each resource <em class="rfc">must</em> have at most one Activity in which it is the <code class="language-plaintext highlighter-rouge">object</code>.</td>
    </tr>
  </tbody>
</table>

<p>Activities <em class="rfc">must</em> have the <code class="language-plaintext highlighter-rouge">type</code> property. The value <em class="rfc">must</em> be a registered Activity class, and <em class="rfc">should</em> be one of <code class="language-plaintext highlighter-rouge">Create</code>, <code class="language-plaintext highlighter-rouge">Update</code>, or <code class="language-plaintext highlighter-rouge">Delete</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ "type": "Update" }
</code></pre></div></div>
      <h5 id="object">
        
        
          object <a href="#object">#</a>
        
        
      </h5>
    

<p>The IIIF resource that was affected by the Activity.  It is an implementation decision whether there are separate lists of Activities, one per object type, or a single list with all of the object types combined.</p>

<p>Activities <em class="rfc">must</em> have the <code class="language-plaintext highlighter-rouge">object</code> property.  The value <em class="rfc">must</em> be a JSON object, with the <code class="language-plaintext highlighter-rouge">id</code> and <code class="language-plaintext highlighter-rouge">type</code> properties.  The <code class="language-plaintext highlighter-rouge">id</code> <em class="rfc">must</em> be an HTTP(S) URI. The <code class="language-plaintext highlighter-rouge">type</code> <em class="rfc">should</em> be a class defined in the IIIF Presentation API, and <em class="rfc">should</em> be one of <code class="language-plaintext highlighter-rouge">Collection</code>, or <code class="language-plaintext highlighter-rouge">Manifest</code>. The object <em class="rfc">may</em> have a <code class="language-plaintext highlighter-rouge">context</code> property, as defined for <code class="language-plaintext highlighter-rouge">OrderedCollection</code> above, to reference a description document of the object resource. The document referenced in the <code class="language-plaintext highlighter-rouge">context</code> property <em class="rfc">may</em> also be referenced with the <code class="language-plaintext highlighter-rouge">seeAlso</code> property via the IIIF Presentation API.</p>

<!-- This can't be on the Activity, as some activities reference more than one resource e.g. Add X to Y, Move X from Y to Z, etc. -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "object": {
    "id": "http://example.org/iiif/1/manifest",
    "type": "Manifest",
    "context": [
      {
        "id": "https://example.org/dataset/single-item.jsonld",
        "type": "Dataset",
        "mediaType": "application/ld+json"
      }
    ]
  }
}
</code></pre></div></div>
      <h5 id="endtime">
        
        
          endTime <a href="#endtime">#</a>
        
        
      </h5>
    

<p>The time at which the Activity was finished. It is up to the implementer to decide whether the Activity includes the publication of the IIIF resource online, or only the internal data modification, but the decision <em class="rfc">must</em> be consistently applied. The changed resource given in <code class="language-plaintext highlighter-rouge">object</code> <em class="rfc">must</em> be available at its URI at or before the timestamp given in <code class="language-plaintext highlighter-rouge">endTime</code>. The value of <code class="language-plaintext highlighter-rouge">endTime</code> <em class="rfc">should</em> be before the time that the Activity is published as part of its Ordered Collection.</p>

<p>Activities <em class="rfc">should</em> have the <code class="language-plaintext highlighter-rouge">endTime</code> property.  The value <em class="rfc">must</em> be a datetime expressed in UTC in the <a href="https://www.w3.org/TR/xmlschema11-2/#dateTime" title="XSD DateTime">xsd:dateTime</a> format.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ "endTime": "2017-09-21T00:00:00Z" }
</code></pre></div></div>
      <h5 id="starttime">
        
        
          startTime <a href="#starttime">#</a>
        
        
      </h5>
    

<p>The time at which the Activity was started.</p>

<p>Activities <em class="rfc">may</em> have the <code class="language-plaintext highlighter-rouge">startTime</code> property.  The value <em class="rfc">must</em> be a datetime expressed in UTC in the <a href="https://www.w3.org/TR/xmlschema11-2/#dateTime" title="XSD DateTime">xsd:dateTime</a> format.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ "startTime": "2017-09-20T23:58:00Z" }
</code></pre></div></div>
      <h5 id="summary">
        
        
          summary <a href="#summary">#</a>
        
        
      </h5>
    

<p>A short textual description of the Activity. This is intended primarily to be used for debugging purposes or explanatory messages.</p>

<p>Activities <em class="rfc">may</em> have the <code class="language-plaintext highlighter-rouge">summary</code> property.  The value <em class="rfc">must</em> be a string.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ "summary": "admin updated the manifest, fixing reported bug #15." }
</code></pre></div></div>
      <h5 id="actor">
        
        
          actor <a href="#actor">#</a>
        
        
      </h5>
    

<p>The organization, person, or software agent that carried out the Activity.</p>

<p>Activities <em class="rfc">may</em> have the <code class="language-plaintext highlighter-rouge">actor</code> property.  The value <em class="rfc">must</em> be a JSON object, with the <code class="language-plaintext highlighter-rouge">id</code> and <code class="language-plaintext highlighter-rouge">type</code> properties. The <code class="language-plaintext highlighter-rouge">id</code> <em class="rfc">should</em> be an HTTP(S) URI. The <code class="language-plaintext highlighter-rouge">type</code> <em class="rfc">must</em> be one of <code class="language-plaintext highlighter-rouge">Application</code>, <code class="language-plaintext highlighter-rouge">Organization</code>, or <code class="language-plaintext highlighter-rouge">Person</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "actor": {
    "id": "https://example.org/person/admin1",
    "type": "Person"
  }
}
</code></pre></div></div>
      <h5 id="complete-activity-example">
        
        
          Complete Activity Example <a href="#complete-activity-example">#</a>
        
        
      </h5>
    

<p>A complete example Activity would thus look like the following example. Note that it does not have a <code class="language-plaintext highlighter-rouge">@context</code> property, as it is always embedded within a <code class="language-plaintext highlighter-rouge">CollectionPage</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "id": "https://example.org/activity/1",
  "type": "Update",
  "summary": "admin updated the manifest, fixing reported bug #15.",
  "object": {
    "id": "https://example.org/iiif/1/manifest",
    "type": "Manifest",  	
    "context": [
      {
        "id": "https://example.org/dataset/single-item.jsonld",
        "type": "Dataset",
        "mediaType": "application/ld+json"
      }
    ]
  },
  "endTime": "2017-09-21T00:00:00Z",
  "startTime": "2017-09-20T23:58:00Z",
  "actor": {
    "id": "https://example.org/person/admin1",
    "type": "Person"
  }
}
</code></pre></div></div>
      <h3 id="activity-streams-processing-algorithm">
        
        
          3.4. Activity Streams Processing Algorithm <a href="#activity-streams-processing-algorithm">#</a>
        
        
      </h3>
    

<p>The aim of the processing algorithm is to inform consuming applications how to make best use of the available information.</p>
      <h4 id="collection-algorithm">
        
        
          3.4.1. Collection Algorithm <a href="#collection-algorithm">#</a>
        
        
      </h4>
    

<p>Given the URI of an ActivityStreams Collection (<code class="language-plaintext highlighter-rouge">collection</code>) as input, a conforming processor <em class="rfc">should</em>:</p>

<!-- This should be nested * markdown... but can't figure it -->

<ol>
  <li>Initialization:
    <ol>
      <li>Let <code class="highlighter-rouge">processedItems</code> be an empty array</li>
      <li>Let <code class="highlighter-rouge">lastCrawl</code> be the timestamp of the previous time the algorithm was executed</li>
    </ol>
  </li>
  <li>Retrieve the representation of <code class="highlighter-rouge">collection</code> via HTTP(S)</li>
  <li>Minimally validate that it conforms to the specification</li>
  <li>Find the URI of the last page at <code class="highlighter-rouge">collection.last.id</code> (<code class="highlighter-rouge">pageN</code>)</li>
<li>Apply the results of the page algorithm to <code class="highlighter-rouge">pageN</code></li>
</ol>
      <h4 id="page-algorithm">
        
        
          3.4.2. Page Algorithm <a href="#page-algorithm">#</a>
        
        
      </h4>
    

<p>Given the URI of an ActivityStreams CollectionPage (<code class="language-plaintext highlighter-rouge">page</code>) and the date of last crawling (<code class="language-plaintext highlighter-rouge">lastCrawl</code>) as input, a conforming processor <em class="rfc">should</em>:</p>

<ol class="ordered-list">
  <li>Retrieve the representation of <code class="highlighter-rouge">page</code> via HTTP(S)</li>
  <li>Minimally validate that it conforms to the specification</li>
  <li>Find the set of updates of the page at <code class="highlighter-rouge">page.orderedItems</code> (<code class="highlighter-rouge">items</code>)</li>
  <li>In reverse order, iterate through the activities (<code class="highlighter-rouge">activity</code>) in <code class="highlighter-rouge">items</code>:
    <ol>
      <li>For each <code class="highlighter-rouge">activity</code>, if <code class="highlighter-rouge">activity.endTime</code> is before <code class="highlighter-rouge">lastCrawl</code>, then terminate ;</li>
      <li>If the updated resource's uri at <code class="highlighter-rouge">activity.object.id</code> is in <code class="highlighter-rouge">processedItems</code>, then continue ;</li>
      <li>Otherwise, if <code class="highlighter-rouge">activity.type</code> is <code class="highlighter-rouge">Update</code> or <code class="highlighter-rouge">Create</code>, then find the URI of the updated resource at <code class="highlighter-rouge">activity.object.id</code> (<code class="highlighter-rouge">object</code>) and process the resource ;</li>
      <li>Otherwise, if <code class="highlighter-rouge">activity.type</code> is <code class="highlighter-rouge">Delete</code>, then find the URI of the deleted resource at <code class="highlighter-rouge">activity.object.id</code> and process its removal.</li>
      <li>Add the processed resource's URI to <code class="highlighter-rouge">processedItems</code></li>
    </ol>
  </li>
  <li>Finally, find the URI of the previous page at <code class="highlighter-rouge">collection.prev.id</code> (<code class="highlighter-rouge">pageN1</code>)</li>
 <li>If there is a previous page, apply the results of the page algorithm to <code class="highlighter-rouge">pageN1</code></li>
</ol>
      <h4 id="indexing">
        
        
          3.4.3. Indexing <a href="#indexing">#</a>
        
        
      </h4>
    

<p>If the objective of the consuming application is to find descriptive information that might be used to build an index allowing the resources to be discovered, then the application <em class="rfc">should</em> use the IIIF Presentation API <code class="language-plaintext highlighter-rouge">seeAlso</code> property to discover an appropriate, machine-readable description of the resource.  For different types of resource, and for different domains, the external resources will have different formats and semantics. If there are no external descriptions, or none that can be processed, the data in the Manifest and in other IIIF resources might be used as a last resort, despite its presentational intent.</p>
      <h2 id="appendices">
        
        
          Appendices <a href="#appendices">#</a>
        
        
      </h2>
    
      <h3 id="acknowledgements">
        
        
          A. Acknowledgements <a href="#acknowledgements">#</a>
        
        
      </h3>
    

<p>Many thanks to the members of the <a href="/community/" title="IIIF Community">IIIF community</a> for their continuous engagement, innovative ideas, and feedback.</p>

<p>Many of the changes in this version are due to the work of the <a href="/iiif-api/community/groups/discovery/">IIIF Discovery Technical Specification Group</a>, chaired by Antoine Isaac (Europeana), Matthew McGrattan (Digirati) and Rob Sanderson (J. Paul Getty Trust). The IIIF Community thanks them for their leadership, and the members of the group for their tireless work.</p>
      <h3 id="change-log">
        
        
          B. Change Log <a href="#change-log">#</a>
        
        
      </h3>
    

<table>
  <thead>
    <tr>
      <th>Date</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>2018-11-12</td>
      <td>Version 0.2 (unnamed)</td>
    </tr>
    <tr>
      <td>2018-05-04</td>
      <td>Version 0.1 (unnamed)</td>
    </tr>
  </tbody>
</table>

<!-- Keep two spaces at the top of this file -->

    </div>
  </div>
</div>

      
    </section>
<footer id="footer" class="footer">
  <div class="container">
    <div class="columns">

      <div class="navbar-brand column is-half">
        <a class="navbar-item" href="/iiif-api/">
          <img src="/iiif-api/assets/images/logos/logo-sm.png" alt="IIIF logo" height="28">
          <span class="brand-title blue-text">International Image Interoperability Framework</span>
        </a>
        <p>International Image Interoperability Framework: A community driven image framework with well defined APIs for making the world’s image repositories interoperable and accessible</p>
      </div>
      <div class="column"></div>
      
      <div class="column menu-column">
        <h4>About</h4>
        <ul>
        
          <li>
            <a href="https://marii.info/iiif-website//get-started/how-iiif-works">How IIIF Works</a>
          </li>
        
          <li>
            <a href="https://marii.info/iiif-api/api/">APIs & Documentation</a>
          </li>
        
          <li>
            <a href="https://marii.info/iiif-website/demos">Demos</a>
          </li>
        
          <li>
            <a href="https://guides.iiif.io">Tutorials</a>
          </li>
        
        </ul>
      </div>
      
      <div class="column menu-column">
        <h4>Stay Connected</h4>
        <ul>
        
          <li>
            <a href="/iiif-api">Events & News</a>
          </li>
        
          <li>
            <a href="https://marii.info/iiif-website/newsletter">Join Newsletter</a>
          </li>
        
          <li>
            <a href="https://marii.info/iiif-website/community/groups">Community Groups</a>
          </li>
        
          <li>
            <a href="https://marii.info/iiif-website/community/consortium">Consortium</a>
          </li>
        
        </ul>
      </div>
      
    </div>
  </div>
</footer>
</body>
</html>
